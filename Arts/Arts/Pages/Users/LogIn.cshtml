@page
@model Arts.Pages.Users.LogInModel
@{
    ViewData["Title"] = "Log In user";
}

<nav class="py-2 bg-light border-bottom fixed-top">
    <div class="container d-flex flex-wrap">
        <ul class="nav me-auto">
            <li class="nav-item"><a class="nav-link link-dark px-2 active" aria-current="page" asp-area="" asp-page="/Index">Home</a></li>
            <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Creation</a></li>
            <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Gallery</a></li>
            <li class="nav-item"><a href="#" class="nav-link link-dark px-2">artists</a></li>
            <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Shop</a></li>
        </ul>
        <ul class="nav d-flex">
            <li class="nav-item me-2"><a class="nav-link link-dark btn btn-outline-primary m-auto" asp-area="" asp-page="/Users/LogIn">Log In</a></li>
            <li class="nav-item"><a class="nav-link link-dark btn btn-primary m-auto" asp-area="" asp-page="/Users/SignUp">Sign up</a></li>
        </ul>
    </div>
</nav>

<!-- Si une erreur se declanche dans le code une fonction alertese declanche aussi -->
@if (Model.errorMessage.Length > 0)
{
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>@Model.errorMessage</strong>
        <button type="button" class="btn-close" data-bs-dismiss='alert' aria-label="Close"></button>
    </div>
}


<div class="form-signin">
    <form method="post">
        
        <img class="mb-4" src="~/Ressources/user_60px.png" alt="User icon" width="72" height="57">
        <h1 class="h3 mb-3 fw-normal">Please Log in</h1>
     
        <div class="form-floating">
            <input type="text" class="form-control" id="username" placeholder="Username" name="Username" value="@Model.userInfo.Username" asp-for="@Model.userInfo.Username">
            <label for="floatingInput">Username</label>
        </div>
        <div class="form-floating">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com" name="Useremail" value="@Model.userInfo.Useremail">
            <label for="floatingInput">Email address</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" id="floatingPassword" placeholder="Password" name="Userpassword" value="@Model.userInfo.Userpassword">
            <label for="floatingPassword">Password</label>
        </div>

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" value="remember-me"> Remember me
            </label>
        </div>
        <button class="w-100 btn btn-lg btn-primary" type="submit">Log in</button>
    </form>
</div>

<!-- Losque tout c' est derouler sans encombre une fonction alerte se declanche avec succes -->
@if (Model.successMessage.Length > 0)
{
    <div class="row mb-3">
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>@Model.successMessage</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
}
